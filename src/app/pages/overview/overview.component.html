<div class="card">
  <p-table
    [value]="students"
    [paginator]="true"
    [rows]="rows"
    rowsPerPageLabel="Show"
    [rowsPerPageOptions]="[10, 20, 50, 100]"
    responsiveLayout="scroll"
    [showCurrentPageReport]="true"
    [showFirstLastIcon]="false"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
  >
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="id">ID <p-sortIcon field="id"></p-sortIcon></th>
        <th pSortableColumn="name">
          Name
          <p-sortIcon field="name"></p-sortIcon>
        </th>
        <th pSortableColumn="email">
          Email
          <p-sortIcon field="email"></p-sortIcon>
        </th>
        <th pSortableColumn="dateOfBirth">
          DOB
          <p-sortIcon field="dateOfBirth"></p-sortIcon>
        </th>
        <th pSortableColumn="studyProgramme">
          Programme
          <p-sortIcon field="studyProgramme"></p-sortIcon>
        </th>
        <th>Courses</th>
        <th style="width: 140px">Actions</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-s>
      <tr>
        <td>{{ s.id }}</td>
        <td>{{ s.name }}</td>
        <td>{{ s.email }}</td>
        <td>{{ s.dateOfBirth | date : 'yyyy-MM-dd' }}</td>
        <td>{{ s.studyProgramme }}</td>
        <td>{{ s.courses?.join(', ') }}</td>
        <td class="actions">
          <button
            pButton
            class="p-button-secondary custom-action-btn"
            (click)="menu.toggle($event)"
            aria-label="Actions"
          >
            <i class="pi pi-ellipsis-v"></i>
          </button>

          <p-menu #menu [popup]="true" [model]="getMenuItems(s)" appendTo="body"></p-menu>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
