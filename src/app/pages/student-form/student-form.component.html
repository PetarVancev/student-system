<p-toast></p-toast>

<div class="container">
  <p-card class="form-card">
    <h2>{{ isEditMode ? 'Edit Student' : 'Add New Student' }}</h2>

    <div class="form-grid">
      <div class="field">
        <label for="name">Name</label>
        <input
          id="name"
          pInputText
          [(ngModel)]="student.name"
          placeholder="Janez Novak"
          [readonly]="isEditMode"
        />
      </div>

      <div class="field">
        <label for="email">Email</label>
        <input
          id="email"
          pInputText
          [(ngModel)]="student.email"
          placeholder="janez@example.com"
          [readonly]="isEditMode"
        />
      </div>

      <div class="field">
        <label for="dob">Date of Birth</label>
        <p-datepicker
          [(ngModel)]="student.dateOfBirth"
          dateFormat="yy-mm-dd"
          [maxDate]="maxDate"
          [minDate]="minDate"
          [disabled]="isEditMode"
        ></p-datepicker>
      </div>

      <div class="field">
        <label for="programme">Study Programme</label>
        <p-select
          [options]="programmes"
          [(ngModel)]="student.studyProgramme"
          placeholder="Select Programme"
          [disabled]="isEditMode"
        ></p-select>
      </div>

      <div class="field">
        <label for="courses">Courses</label>
        <p-multiSelect
          [options]="availableCourses"
          [(ngModel)]="student.courses"
          placeholder="Select Courses"
        ></p-multiSelect>
      </div>

      <div class="form-actions">
        <button
          pButton
          [label]="isEditMode ? 'Update Courses' : 'Add Student'"
          icon="pi pi-check"
          (click)="saveStudent()"
          [disabled]="isSaving"
        ></button>
      </div>
    </div>
  </p-card>
</div>
